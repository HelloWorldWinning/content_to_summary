Timestamp: 2025-06-09T09:54:05.722361
Title: 1分钟超短线交易：超高1800%收益的盈利法则！ | TradingView教学 | 加密货币
URL: https://youtube.com/watch?v=IP21UJ2QMNo&si=LUCn6ygADDRIOeJH
Status: success
Duration: 26:31

Description:
好的，这是根据您提供的文本提炼出的摘要、核心观点、框架和概念图。

**摘要**

这是一份关于一个在1分钟K线上实现盈利的量化交易策略的详细讲解。该策略在过去5年里回测实现了1800%的回报，覆盖250万+根K线。

**I. 策略核心逻辑与进出场**
    *   **目标：** 寻找市场严重超卖时机进行短线做多获利（超跌反弹/剥头皮）。
    *   **基础：** 基于1分钟K线，针对有一定规模和人气的山寨币（如XRP）。
    *   **超卖因子：** 不仅看单根K线的RSI，而是观察**连续多根K线**。
    *   **入场条件：**
        *   连续K线的RSI值全部小于30。
        *   这些连续K线RSI值与30的**累加差（面积）**大于100。
    *   **入场时机：** 满足条件后的下一根K线开盘时。
    *   **出场条件：** RSI值大于设定的止盈阈值（例如65或70）。
    *   **原理：** 通过观察连续K线及累加差，避免了单根K线RSI在极端行情下的失灵，提高了超跌判断的准确性。

**II. 风险管理与马丁优化**
    *   **挑战传统马丁：** 传统马丁（亏损加倍）易导致资金指数级增长和爆仓。
    *   **策略的马丁用途：** 马丁加仓仅作为**仓位管理/风险调整**手段，而非硬扛亏损，因为有明确的平仓信号。
    *   **优化方向：** 确定合适的加仓时机（下跌幅度）以实现风险和收益平衡。
    *   **加仓依据：** 利用**超级趋势（SuperTrend）**指标的数值（3倍ATR，代表波动幅度），定义“马丁距离”（超级趋势线到开盘价的距离）。
    *   **加仓逻辑：** 在“马丁距离”的倍数位置（如1.5倍、2.5倍等）设置限价加仓单。
    *   **风险控制机制：**
        *   分析“交易亏损 / 马丁距离”（马丁倍数）来评估风险。
        *   设置**最小波动限制**（最小马丁距离）：小于该阈值（如0.25%）的订单放弃开单，因波动过小风险反而相对高（马丁倍数大）且手续费占比高。
        *   设置**最大波动限制**（最大马丁距离）：大于该阈值（如1%）的订单按比例**压缩仓位**，以有效应对黑天鹅极端行情（如519大跌）。
    *   **效果：** 波动大时，实际持仓风险反而因仓位缩小而大幅下降；波动小时风险相对较高，通过最小波动过滤规避部分风险。

**III. 策略脚本使用与设置**
    *   **主要参数：** 交易日期范围、RSI设置（阈值、长度、总分/面积）、马丁设置（级别、加仓RSI平仓值、杠杆倍数/全局仓位）、波动限制（最小波动、最大波动）。
    *   **注意点：** 深度回测需要直接修改**源代码**中的参数，而非界面设置。有调试功能可逐K线查看参数变化。

**IV. 实盘考量与优化方向**
    *   **适用性：** 适用于流动性好、有人气、超跌后易反弹的主流山寨币。不同品种参数需调整。
    *   **局限性：** 1分钟K线策略出手频率相对不高。存在RSI不反弹持续下跌（无平仓信号）的极端风险，尽管在一分钟级别上概率小。
    *   **建议：** 隔离资金运行（如使用子账号）。
    *   **优化方向：**
        *   提高交易频率：引入其他超买超卖指标作为过滤。
        *   适当降低RSI累加分数阈值（可能）。
        *   增加其他平仓条件：如马丁加仓后反弹一定百分比即平仓，牺牲部分利润换取稳定性。
        *   改进波动范围预测算法。

**核心观点**

通过构建一个基于连续K线超卖量化因子的逻辑，并结合一套针对市场波动性进行动态调整的马丁加仓作为仓位管理手段，即使在一分钟级别K线上，也能在特定品种上实现超越传统认知的长期稳定盈利。

**Overarching Framework (总框架)**

基于逻辑推理和数据分析的量化策略开发框架：
1.  **建立逻辑基础：** 针对市场现象（超跌反弹）提出可量化的假设（连续K线RSI累加超卖因子）。
2.  **指标的创新应用：** 深入理解并改造传统指标（RSI、SuperTrend/ATR），使其服务于策略的特定需求。
3.  **数据驱动的风险管理：** 分析回测数据（交易亏损、指标数值），识别风险模式，并设计自适应的风险控制机制（波动性感知加仓、仓位缩放）。
4.  **实践与优化：** 通过回测验证策略有效性，识别局限性（频率、极端情况），并提出基于数据分析和逻辑推理的未来优化方向。

<Mermaid_Diagram>
graph TD
    subgraph "策略核心逻辑 (Core Strategy Logic)"
        A["1分钟K线数据 (1min K-line Data)"] --> B{"市场现象: 超跌反弹 (Oversold Rebound)"};
        B --> C["自定义超卖因子 (Custom Oversold Factor)"];
        C --> D["连续K线 (Consecutive Candles)"];
        C --> E["RSI 指标 (RSI Indicator)"];
        D & E --> F{"RSI < 30 (连续) (Consecutive)"};
        F --> G["(30 - RSI) 累加求和 (Accumulated Sum)"];
        G --> H{"累加和 > 100 (Sum > 100)"};
        H --> I["入场信号 (Entry Signal)"];
        I --> K["建立初始仓位 (Establish Initial Position)"];
        K --> L["持仓 (Position Holding)"];
        L --> M{"RSI > 平仓阈值 (RSI > Exit Threshold)"};
        M --> N["平仓出场 (Exit Position)"];
    end

    subgraph "风险管理与马丁优化 (Risk Management & Martingale Optimization)"
        K --> O["策略内部管理 (Internal Strategy Management)"];
        L --> P["持仓过程 (Holding Process)"];
        P --> Q["计算交易亏损 (Calculate Trading Loss)"];
        A --> R["SuperTrend / ATR 指标 (Indicator)"];
        R --> S["马丁距离 (波动性) (Martingale Distance (Volatility))"];
        O --> T["传统马丁问题 (Traditional Martingale Issues)"];
        O --> U["策略的马丁用途: 仓位管理 (Strategy's Martingale: Pos. Mgmt)"];
        S --> V{"最小马丁距离过滤 (Min Martingale Distance Filter)"};
        S --> W{"最大马丁距离压缩 (Max Martingale Distance Scaling)"};
        S & Q --> X["分析: 交易亏损 / 马丁距离 (Analysis: Loss / Distance)"];
        U --> Y["波动性感知加仓 (Volatility-Aware Add-on)"];
        V --> Z["放弃低波动风险订单 (Discard Low Volatility Risk Orders)"];
        W --> AA["降低高波动仓位 (Reduce High Volatility Position)"];
        Y --> K; %% 加仓后也是建立新仓位或调整现有仓位
        Y --> L; %% 加仓发生在持仓过程中
        Z --> |排除| I; %% 不满足最小波动，不产生入场信号
        AA --> |调整仓位| K; %% 最大波动调整初始仓位

    end

    subgraph "策略应用与优化 (Application & Optimization)"
        N --> AB["交易结果 (Trade Results)"];
        AB --> AC["策略绩效 (Strategy Performance)"];
        AC --> AD["回测数据分析 (Backtest Data Analysis)"];
        AB --> AE["交易体验 (Execution Psychology)"];
        AD --> AF["识别局限性 (Identify Limitations)"];
        AD --> AG["寻找优化方向 (Find Optimization Directions)"];
        K --> AH["资金管理 (Capital Management)"];
        AH --> AI["隔离运行 (Isolated Fund - Sub Account)"];
        B --> AJ["币种特性 (Coin Characteristics)"];
        AJ --> AK["策略适用性 (Strategy Applicability)"];
        AF --> AG;
        AG --> |改进策略| O; %% 优化方向反馈到策略逻辑和管理
    end

    classDef indicator fill:#ADD8E6,stroke:#333,stroke-width:1px;
    class RSI,SuperTrend,ATR indicator;
    classDef logic fill:#FFFFCC,stroke:#333,stroke-width:1px;
    class B,C,D,E,F,G,H,M logic;
    classDef signal fill:#90EE90,stroke:#333,stroke-width:2px,color:#333;
    class I,N signal;
    classDef position fill:#FFD700,stroke:#333,stroke-width:1px;
    class K,L position;
    classDef risk fill:#FFB6C1,stroke:#333,stroke-width:2px;
    class T,U,V,W,X,Y,Z,AA,Q risk;
    classDef analysis fill:#D3D3D3,stroke:#333,stroke-width:1px;
    class P,R,S,AD,AF,AG,AB,AC,AE,AJ,AK analysis;
    classDef management fill:#C0C0C0,stroke:#333,stroke-width:1px;
    class O,AH,AI management;

    linkStyle 8,12,15 stroke:#008000,stroke-width:2px; %% Entry/Exit links green
    linkStyle 13,16,17,18,19 stroke:#FF0000,stroke-width:2px; %% Risk links red
    linkStyle 30,31,32 stroke:#FFA500,stroke-width:2px; %% Optimization links orange
    linkStyle 33,34 stroke:#800080,stroke-width:1px; %% Application links purple

</Mermaid_Diagram>

Content:
WEBVTT Kind: captions Language: zh-Hans 本期要分享的策略 是一个马丁本丁看了都会流泪的策略 这个策略 彻底扭转了我对于一分钟级别的 k 线 是不可能盈利的这种观点 在过去 5 年的时间中 它一共获取了 1,800%的回报 回测超 250 万根 k 线 这是一个近乎恐怖的天文数字 这意味着 策略的盈利因子 可重复性和生命周期都极强 同时它也打破了马丁策略等于扛单 等于爆仓的固有印象 在这个策略中 马丁加仓只是一种调整风险的方法 类似于仓位管理 而非盈利的手段 因为策略有明确的平仓信号 它不会像传统的马丁策略那样 硬扛到底 换句话说 即使是不用马丁 策略的盈利能力依然有效 而使用马丁的目的 只是为了让盈利曲线更加的贴合人性 提高策略的可执行能力和稳定性 这样的策略一年都未必能产出一个 所以千万不要错过 由于视频的信息量有点大 如果感兴趣的话 请务必要仔细观看到最后 以免错过重要的细节 从而带来不必要的损失 接下来我会分四个部分讲解 第一部分 讲策略的具体进出场方法和底层逻辑 争取能让大家做到举一反三 早日开发出属于自己的策略 第二部分我会讲风险处理和优化 这部分内容 会结合马丁加仓一起进行讲解 你将看到我是如何设计马丁策略 并对抗市场中的各种潜在风险和意外 相信一定会对你有所帮助 第三部分 涉及策略脚本的具体使用方法 以及一些重 要的注意事项 这个策略有一定的普适性 如果你想跑多个品种 就需要充分理解我的设计思路 最后一部分 我会总结一下这个策略不足的地方 并提出可能的优化方向 你可以在我的代码基础上 做出适当的修改 说不定会有意外收获 如果喜欢此类视频 请点赞支持我 你们的支持就是我不断研究的动力 OK 我们先开始第一部分的讲解 那么首先请大家思考一下 当市场发生严重超卖的时候 有多大的可能性会迎来一波反弹呢 这里面会不会有盈利空间呢 我的想法是自己设计一个因子 用它来表示严重超卖的程度 因子得分越高 就说明超卖越严重 这个时候就应该果断买入做多 我会根据这个因子 来匹配容易反弹的交易品种 这其实 就是一个典型的量化交易的思路 我希望大家在设计交易策略的时候 最好能有逻辑上的支撑 这样你策略的生命周期才能长久 否则对着参数一顿输出调优 虽然回测数据看起来很舒服 但真正实盘的时候很快就会失灵 提到超卖或者超买 我们的第一印象就是 RSI 指标 当 RSI 的值低于 30 的时候 市场处于超卖的状态 如果大于 70 那就表示超买 这是各种老师最常挂在嘴边的说辞 如果你按照他们的方法去进行交易 相信我你一定会被市场狠狠的教育 事实上他们中的绝大多数 可能根本就不懂 RSI 的计算过程 也搞不清楚 RSI 在极端行情 的时候为什么会失灵 虽然我在这个策略中 使用的也是 RSI 指标 但是 我的用法和常规的用法完全不一样 在某种程度上 我巧妙的利用了 RSI 的缺陷 让指标变得对我更加有利 这个我们一会再细说 说这么多 只是希望大家明白一个简单的道理 只有你真正了解 一个指标的计算原理和方法 才能更好的利用这个指标 总之 我们的目标是寻找严重超卖的时机 并尝试进行短线交易获利 所以这是一个只做多的策略 同时它也是一个剥头皮策略 既然是剥头皮 那肯定要先人一步 为了更准确的观察市场的细微变化 我们选择从 1 分钟 k 线进行切入 在最狠的位置进场 在最好的位置跑路 这就是 1 分钟 k 线的意义所在 我们以最近的这一单举例 这里是买入信号 而这里是出场位置 可以看到 这一单基本买在最低的地方 平常的时候也差不多在高点 当然不可能每单都是这么顺 但是呢 它确实能达到我们想要的效果 而且这样的订单也不少 一会我会进行展示 这个策略走的是超跌反弹的思路 跌的越狠就越容易反弹 至少在 1 分钟级别的 k 线上 是具有这种特性的 那怎么样才能准确地描述 严重超跌这一行为呢 我们选择币安的 XRP 合约 作为交易对来进行讲解 首先可以确定的是 单看 RSI 的值肯定是不行的 所以我们换一个角度 选择多根连续的 k 线 作为观察对象 而不是一根 这是非常关键的一点 接下来的目标 就是寻找一段连续的 k 线 作为入场信号 这段连续的 k 线 必须要同时满足两个关键条件 第一 所有 k 线的 RSI 的值必须全部小于 30 这是最基本的要求 第二 我们用 30 减去每根 k 线 RSI 的值之后 将这个差进行累加求和 最后得出的值要大于 100 如果某一段 k 线同时满足这两个条件 那我们就会在最后一根 k 线 收盘的时候 也就是下一根 k 线开盘的时候 进场做多 RSI 的值连续小于 30 很好理解 累加求和又是什么意思呢 默认条件下 RSI 指标下面这条白色的虚线 它的值就是 30 累加求和 形象点说 就是求的超出白色虚线之外 突出部分区域的面积 所谓的累加求和 就是计算这部分面积的大小 面积越大 说明超卖越严重 当面积大于 100 的时候 就是我们寻找的入场时机 出厂的信号则很简单 当 RSI 值大于某个值 例如 65 或者 70 的时候 直接平仓出场 我们举一个例子来进行说明 这里存在一个突出的区域 然后我们依次累加 RSI 超出白色虚线的长度 为了更清楚的查看交易信号 我单独写了一个指标脚本 当 RSI 的值大于 30 的时候 指标不会有任何显示 为一根直线 如果小于 RSI 它就会出现一个点 而当 RSI 的值连续小于 30 的时候 这个点就会自动进行累加 我们只需 要等待这个点的值大于 100 的时候 就说明这部分区域的面积大于 100 了 我们就会在下一根 k 线开盘的时候 进场做多 对应图表中的这个位置 进场之后一直持仓 等到 RSI 的值 达到我们提前设置的止盈位置 另外我们注意到 在这个位置 RS 的值超过了 30 所以这部分面积的累加就失败了 需要重新计算 可能这里看的不是很清楚 不过从指标上能很明显的看到 图线中断了 又重新开始从 0 计算 之所以选择面积大于 100 的时候再出手 是因为这样能在一定程度上 避免错误的入场信号 类似于这种情况 其实策略本身并不复杂 难的是这背后的原理 RSI 本质上 是将上涨幅度和下跌幅度的比值 映射到 0-100 这个区间 在正常的情况下 这个指标当然是很准的 可是一旦有大趋势来临的时候 指标就会失灵 如果我们只看一根 k 线 几乎没法判断是不是到了底部 成功率非常低 相信大家平时的使用中 应该都有所感受 而此时我们改用一段 k 线来观察市场 就能有效的提高成功率 避免指标失灵带来的影响 当前这个收益曲线 是没有使用马丁策略的情况 可以看到 整体的胜率和盈亏表现的都很不错 像这种情况 我们就可以考虑用马丁策略 来进行进一步优化 而不是用它来进行扛单 因为我们有明确的进出场信号 而且我们的因子也有盈利能力 那怎么用马丁策略来进行优 化呢现在就进入到第二部分内容了 马丁策略相信不用我过多介绍了 简单来说就是超级加倍 只要亏损到一定程度 那我就用多一倍的资金再次买入 直到获利出场 理论上只要本金够多 那就永远不会输 但事实上它有很大的问题 首先 每次加倍的资金是呈指数增加的 当我们加到第十次的时候 这一单的资金 会增加到第一单资金的 512 倍 之后还会越来越高 这样的资金使用方式显然是不合理的 其次每次加仓之后 风险就会不断的累积 一不留神就会爆仓 因为现实中我们并没有无限量的资金 综合权衡的话 最理想的加仓方式是不超过 5 次 这样可以在风险和收益上 博取一个很好的平衡 而且加仓的时机也非常讲究 我随便举一个例子 假如我们在这里进场 然后在下方很远的地方加仓 那很有可能一直等不到加仓的机会 而如果加仓幅度太小 过早加仓的话 那每次跌一点就会触发加仓 可能很快这 5 次就用满了 而这个时候呢 这段行情才走了一半 接下来面对的就是巨额亏损 所以马丁策略一个最重要的问题 就是确定每次下跌多少 才是加仓的最合适的时机 这个时候 我们就需要查看 交易清单中的一个指标 叫做交易亏损 它代表的是 每一单持仓过程中的最大浮亏 打个比方 如果我在这里进场 在这个地方出场 那我的最大浮亏 就是 从进场位置到最低点的价格变化幅度 这些数据在交易清单里面 都是可以查看到的 那我们就根据这个来设计加仓比例 当然不是这样的 不要着急 我们先将交易清单下载下来 方便我们比较研究 首先按照从小到大的顺序排列一下 可以看到最小的浮亏是 0.02% 基本上像这种单就表示抄到底部了 这个应该不难理解吧 就像我们最开始展示的 那一单成功抄底的案例 从这里可以看出 抄底的概率还是很高的 说明我们这个因子的盈利效果 确实是可以的 然后我们再拖动到最后 可以看到最大浮亏高达 25% 非常的吓人 虽然这一单最终只亏损了 4%左右 但是这显然还是太刺激了 假如这个交易亏损 能够分布在一个比较集中的区域 例如全部都集中在 5%左右 那我们就可以选择在 4.5%的位置加仓 这样显然是最理想的 但实际过程中 最大浮亏肯定是不可能这样分布的 所以最好是能有一个办法 提前感知市场的波动变化 让策略能够在波动大的时候 自动调整加仓幅度 例如波动如果是 20%的话 我们就 5%加一次仓 如果是 2%的话 我们就 0.5%加一次仓 这样就很完美 那怎么样才能做到这一点呢 这个时候我们就引入了第二个指标 超级趋势 接下来我们来讲解 如何用它来管理仓位的大小和风险 超级趋势是一个趋势跟随的指标 我们可以在指标的栏目里面 输入超级趋势 找到这一个指标 直接添加就可以了 我在策略里面使用的都是默 认设置当市场处于空头趋势的时候 它会出现在 k 线上方 对应图表中红色的线 当市场处于多头趋势的时候 它会出现在 k 线下方 用绿色线条表示 但是在我们这个策略中 并不会用到超级趋势 对于市场多空的判断 而是仅仅使用超级趋势线的数值 因为我们都是超跌的时候进场 所以必然是空头趋势 那超级趋势线的数值是怎么计算的呢 它其实就是 3 倍的 ATR ATR 的全称是真实波动幅度 听名字就可以知道 它可以很好地表示 当前市场的波动范围 我们用 3 倍 ATR 也就是超级趋势的数值 来判断市场的波动大小 并用它来确定每一次加仓的位置 我们还是举一个例子来进行说明 现在 我们将策略切回到马丁加仓的状态 可以看到这一波行情一共开了 4 单 补仓了 3 次 那它每次开仓的时机是如何确定的呢 首先我们在第一单进场的时候 会计算 超级趋势线到开盘价之间的距离 为了方便讲解 我们就将它命名为马丁距离 第一次下单的仓位数量 则被称为马丁数量 它等于当前的资金量除以价格 对应指标 设置中的马丁级别一和马丁数量一 我们将马丁距离和马丁数量 视为一个基本单位 1 那接下来加仓的时候 就直接在这个基础上进行调整 在第一单进场之后 策略会立刻下一个马丁 2 的限价单 它等于马丁 1 距离的 1.5 倍 也就是超级趋势到开盘价这个价格 幅度的 1.5 倍 而加仓的数量和第 1 单相等 对应图中的这个位置 在这个过程中 无论什么时候 只要 RSI 涨到目标位置 我们就会平仓离场 如果没有触发马丁加仓 那我们就会取消掉提前下好的订单 很不幸这笔订单一共加仓了三次 到马丁 4 的时候 才找到合适的出场机会 但是最后我们平仓的时候 总体依然还是盈利的 这些马丁加仓的位置 则对应脚本中的这些设置 一共有 5 个级别 为了分析超级趋势的效果 我将它的数值 输入到交易清单的信号里面 方便我们查看 然后我们将这个交易清单下载到本地 由于我们在程序中做了处理 这次下载下来的 这个表格中的第二列交易信号 就等于每次下单的码定距离 也就是超级趋势线 到开盘价的波动幅度 最后这一列是交易亏损 我们用交易亏损除以马丁距离 得到的就是马丁倍数 对应表格中红色字体的这一列 它和指标中的级别是相对应的 只要这里的数字 大于我们在指标中设置好的数字 就代表会触发马丁加仓 现在我们只需要看这个数字 就能准确的知道会加几次仓了 大于 10 的话肯定是 5 次 小于 1.5 的话就不会加仓 首先我们来看几个例子 这一单黄色的马丁距离是 0.12% 这说明当前市场的波动非常非常小 而且这一单的最大交易亏损也不大 只有 1.86% 但是它们的比值却非常高 达到了 15 倍 如果按照我们刚才的方案加仓最 大只会加仓到 10 倍 所以它肯定会超过我们的加仓范围 持仓的风险就会变得很高 而同样的 它下面这一单的马丁距离是 0.13% 但是加仓倍数只有 2.69 倍 按照刚才的方案 1.5 倍和 2.5 倍的时候会分别加一次仓 也就是说我只需要加仓两次 就能带来超额收益 我们刚才讲过 最理想的情况是 这个比值全部分布在一个固定的区间 这显然很难 但是我们可以进行取舍 例如 我可以将马丁距离小于 0.25%的订单 全部放弃 因为据我的观察 马丁距离越小的话 它的马丁倍数越容易变大 同时 0.25%的波动 我们交易的时候 手续费就占了很大的比例 这种订单对我们来说肯定是不利的 而且这一部分订单的数量并不多 所以 我们完全可以把这一部分订单舍弃掉 仔细观察这个表格之后 我们发现 绝大部分的订单都分布在 1%左右 所以 我们可以对超过 1%的订单进行压缩 让它的仓位按比例减小 例如这一单的话 我们就缩小 2.3 倍 这样实际的亏损降低到 10% 当然这么算肯定是不对的 我只是随便做个比喻 我们对所有高于 1%的订单 进行仓位压缩 风险就能被有效的控制住 最后我们来看 519 这一天 波动达到了惊人的 20% 根据我们刚才的算法 我们的实际持仓数量 已经调整到正常仓位的 1/20 此时的持仓风险就变得非常低了 基本上等于没有风险 这样就能有效避开黑天鹅的影响 从上面这些数据能够看出来 采用这种算法 波动大的时候 时尚风险反而会迅速下降 而风险高的时候反而是波动小的时候 我觉得这里面还有进一步优化的空间 如果我们能找到一种算法 能够合理的预测接下来的波动范围 那这个收益还能够再往上翻几倍 接下来我们进入第三部分 讲一下策略的参数设置 首先是交易日期范围 我们可以根据需要自行设置回撤范围 这个就不用过多介绍了 往下是 RSI 的相关设置 阈值 30 对应下方 计算面积的时候 这根白色标准线的值 调大的话面积就会变大 调小的话面积会变小 由于我们的策略 并不能在图表上显示 RSI 指标的效果 所以修改这个参数之后 最好在 RSI 指标设置中同步进行更改 这样在视觉效果上才能保持一致 RSI 的长度是计算 RSI 时所使用的数据 默认回看 14 根 k 线 这点 和 TradingView 自带的指标设置是一样的 RSI 的总分就是面积的分值 如果你仔细看过之前的讲解 这里应该不会再有疑惑 下面是关于马丁的设置 之前我们已经演示过了 马丁 1 表示进场第 1 单 它也是调仓的基本单位 也就是超级趋势线到开盘价的距离 具体要调整多少 可以像我一样将订单列表下载到本地 然后再慢慢分析 其实我这里也只是随意写了个数字 并没有分析过订单 将来如果要实盘的话 这方面肯定是要进一步优化的 下面这个是每一次加仓时平 仓的 RSI 的数值 为什么要单独写出来呢 因为不同交易品种 它们平仓的数值会有所不同 具体的原因是对于不同的交易品种 它们每一次超跌反弹的强度 肯定会有所区别 像 XRP 就属于很强的那种 设到 70 都没有关系 而有些就比较弱 可能只能设到 60 否则就会因为平仓不及时而带来亏损 后面这个杠杆倍数 可以用来调整仓位的大小 如果你觉得回撤太大 你可以调小这个数值 这样回撤就会降低 而收益也会下降 它会降低全局的仓位比重 下面这个最小波动和最大波动 我们刚才也介绍过 分别是指马丁距离 也就是超级趋势到开盘价的波动幅度 最小波动设置为 0.0025 表示如果波动小于这个幅度 我们就不会开单 因为刚才讲过 波动小的时候风险反而容易变大 所以我们这里要设置一个限制 最大波动 0.01 是指如果马丁距离的波动幅度超过 0.01 我们就会按照超过的比例将仓位缩小 从而控制好风险 这么做主要是为了对抗黑天鹅的影响 合理的控制仓位 这个脚本有一点特别需要注意 如果你想进行深度回测的话 在指标的设置中修改这些参数 是不会发生作用的 也不能叫不会发生作用 而是深度回测的时候没有结果 我们必须要在源代码中进行修改 才能够成功的进行深度回测 例如 我想将马丁 1 到 RSI 平常数值设置成 70 那我们必须打开脚本 找到相应的代码对比 title 对应的文字前面的就是数字 需要多少就改成多少 然后点击保存之后 才可以成功的进行深度回测 如果不需要深度回测的话 就直接在脚本中设置 点击确认就能生效 最后是策略的调试功能 勾选之后在需要查看的位置回放一下 这个值就会发生相应的变化 然后我们依次播放 k 线 就能看到数字的更新 我就不多讲了 懂的自然就懂了 不懂的还需要继续学习 最后一部分 我们来谈一下实盘的问题 本质上这个策略 是一个超跌反弹的剥头皮策略 所以从逻辑上来讲 它必须要适用于 那种有一定规模和人气的山寨币 每一次超跌的时候 都有大量的韭菜来接盘 这样才能有利润空间 像瑞波币 狗币索拉拉都比较吻合我们说的情况 如果没有一定的用户基础 这种超跌反弹的策略肯定会死的很惨 像那种不知名的币 一定要谨慎交易 没有一定市值的币也要谨慎 而不同的交易品种 下跌的幅度和反弹的特性 肯定都会有所不同 这就要求我们花时间和功夫 来进行优化 目前我发现的交易品种 瑞波币的表现是最好的 这个交易品种在近 5 年的时间中 一共回测了近 250 万根 k 线 这个数量级还是比较让人放心的 唯一的问题是出手的频率太低了 毕竟是一分钟的 k 线 噪声信号太多 出手机会肯定会相对较小 如果订单数量能再多一个 0 相信会更加的有说服力 这个策略还 有一个最有意思的地方 那就是它是 1 分钟的 k 线 平均持仓时间非常的短 只有不到 3 个小时 根据以往的经验 马丁策略加仓到最后 那种压力肯定让你睡不好觉 这也是我现在放弃马丁策略的原因 但是这个策略则不一样 很有可能等你上班回来 或者吃饭睡觉的时候 它就已经平仓出场了 因为持仓时间太短了 这叫什么 长痛不如短痛 我常常说 只要没有破防 那就不叫回撤 如果从这个角度来看的话 它实际的亏损其实非常低 可能不到 5% 具体多少我也没有测算过 反正交易的体验应该会很不错 虽然它有各种各样的保护性措施 但是还是有可能会发生极端情况的 过去不发生不代表将来不发生 它不怕黑天鹅 怕 RSI 不反弹 一直跌一直不平仓 虽然这对于一分钟级别的 k 线来说 几乎是很难出现的 但是概率还是有的 所以我的建议是隔离运行 这个策略 不能让它和你的资金 或者其它项目一起运行 最好是单独开一个子账号来运行它 这里我推荐 Bitget 交易所 子账号的体验非常好 而且山寨币的种类也很齐全 像币安的话 开通子账号有资金要求 而且门槛还不低 欧易呢山寨币种类太少 没有意义 基于这些特性 我觉得策略的优化方向 是想办法提高交易数量 可以考虑引入其它的一些超买 超卖指标 作为双向过滤器 同时适当降低一下面积的大小 也许会有不错的效果 这里 我总结了一部分常用的超买超卖指标 供大家参考 比较常见的有 CCI， ADX 以及不怎么常用的威廉指标 随机震荡指标 资金流量指数动量指标 抛物线转向指标等等 大家可以自行尝试 另外 我们还可以考虑增加其它的平仓条件 例如最简单的 马丁加仓之后 反弹到一定程度就直接走人 因为有时候会出现急速反弹的情况 而这个时候 RSI 通常没有达到我们的要求 据我统计 其实马丁 4 马丁 5 的比例还是很小的 我们完全可以放弃这一部分利润 来提升策略的稳定性 这期视频 我讲了很多 策略开发方面的细节性问题 这些内容 你们在别的频道肯定是看不到的 如果喜欢这种风格的话 请一定要点赞告诉我 这样我会考虑在之后的策略分享中 继续输出更多的干货 好了本期视频就到这了 让我们下期再见吧
